function _objectSpread(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},l=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),l.forEach(function(e){_defineProperty(a,e,t[e])})}return a}function _defineProperty(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function _slicedToArray(a,e){return _arrayWithHoles(a)||_iterableToArrayLimit(a,e)||_nonIterableRest()}function _iterableToArrayLimit(a,e){var t=[],l=!0,s=!1,i=void 0;try{for(var r,n=a[Symbol.iterator]();!(l=(r=n.next()).done)&&(t.push(r.value),!e||t.length!==e);l=!0);}catch(a){s=!0,i=a}finally{try{l||null==n.return||n.return()}finally{if(s)throw i}}return t}function _toArray(a){return _arrayWithHoles(a)||_iterableToArray(a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithHoles(a){if(Array.isArray(a))return a}!function(){var a=["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],e=function(){var a={localLoad:!1,storeName:"USER_DATA"};return{getData:function(e){var t=a.data,s=a.daysData,i=a.localLoad,r=a.storeName;if(i)return e({data:t,daysData:s});try{if(!o(t=JSON.parse(localStorage.getItem(r))))throw new Error("DATA MUST BE OBJECT");s=n(t)}catch(a){return localStorage.removeItem(r),void l("Download routine?",function(){return location.hash="download",!0},!1)}return a.localLoad=!0,a.data=t,a.daysData=s,e({data:t,daysData:s})},setData:function(e){var t=a.daysData,l=a.storeName;try{if(!o(e))throw new Error("DATA MUST BE OBJECT");t=n(e),localStorage.setItem(l,JSON.stringify(e))}catch(a){throw new Error("DATA NOT VALID")}return a.data=e,a.daysData=t,!0}}}();function t(a){var t,s,i,r;a.innerHTML="",a.classList.remove("loading"),a.classList.remove("failed"),a.classList.add("loading"),t="/routine/static/data.js",s=function(t){a.classList.remove("loading");var s=function(a){var t=a.departments,s=El("ul",{className:"tree"}),i=function(a){var i=El("li",{className:"tree-item tree-item__button"},a);s.append(i);var r=t[a].semesters,n=El("ul",{className:"tree-field"}),c=function(t){var s=El("li",{className:"tree-item tree-item__button"},"Semester ".concat(t));n.append(s);var i=r[t].groups,c=El("ul",{className:"tree-field"}),o=function(s){var r=i[s].subjects,n=El("li",{className:"tree-item"},"Group ".concat(s),El("button",{className:"tree-group-download-button",disabled:0===Object.keys(r).length,onClick:function(){l("Are you sure?",function(){return e.setData({department:a,semester:t,group:s,subjects:r})&&history.back(),!0})}},El("i",{className:"material-icons"},"get_app")));c.append(n)};for(var m in i)o(m);s.after(c)};for(var o in r)c(o);i.after(n)};for(var r in t)i(r);return s}(t);a.append(s)},i=function(){a.classList.remove("loading"),a.classList.add("failed")},(r=new XMLHttpRequest).onload=function(){try{s(JSON.parse(r.responseText))}catch(a){new Error("JSON NOT VALID")}},r.onerror=function(){return i&&i()},r.open("GET",t,!0),r.send()}function l(a,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=function(){"function"==typeof t?t():t&&s.remove()},s=El("div",{className:"modal",onClick:function(a){a.target.matches(".modal")&&l()}});s.append(El("div",{className:"modal__box"},El("div",{className:"modal__header"},El("h3",{},a)),El("div",{className:"modal__footer"},t?El("button",{className:"modal__button",onClick:function(){return l()}},"Cancel"):"",El("button",{className:"modal__button",onClick:function(){e()&&s.remove()}},"OK")))),app.append(s)}function s(){return El("a",{className:"material-icons app-bar__action",title:"Back",onClick:function(a){a.preventDefault(),history.back()}},"arrow_back")}function i(a,e){for(var t=arguments.length,l=new Array(t>2?t-2:0),s=2;s<t;s++)l[s-2]=arguments[s];return El.apply(void 0,["a",_objectSpread({href:"#"+a},e)].concat(l))}function r(){var a;app.innerHTML="",(a=app).append.apply(a,arguments)}function n(a){var e={Sunday:[],Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[]};if(a){var t=a.subjects;for(var l in t){var s=t[l],i=s.teacher,r=s.days;for(var n in r){var c=r[n];e[n].push(_objectSpread({name:l,teacher:i},c))}}for(var o in e){e[o].sort(function(a,e){var t=a.start,l=e.start;return t>l?1:t===l?0:t<l?-1:void 0})}}return e}function c(){return a=(new Date).getDay()+1,e=0,a>(t=6)&&(a=e),a<e&&(a=t),a;var a,e,t}function o(a){return"[object Object]"===Object.prototype.toString.call(a)}function m(a){var e=_slicedToArray(/^(\d{2}):(\d{2})$/.exec(a),3),t=e[1],l=e[2],s=t>=12?"pm":"am";return"".concat(t=t%12||12,":").concat(l," ").concat(s)}Router.add("",function(){var t=El("div",{className:"height-100"});r(El("div",{className:"container"},El("div",{className:"app-bar"},El("div",{className:"app-bar__row"},El("div",{className:"app-bar__section app-bar__section--left"},El("h3",{className:"app-bar__title"},"Routine")),El("div",{className:"app-bar__section app-bar__section--right"},i("subjectlist",{className:"material-icons app-bar__action",title:"Subjects"},"book")))),El("div",{className:"content height-100 height-100--cover-app-bar"},t))),e.getData(function(e){var l=e.daysData,s=e.data,r=s.department,n=s.semester,o=s.group,d=a[c()];t.append(El("ul",{className:"list list--ordered"},a.map(function(a){var e=l[a],t=e.length;return El("li",{className:a===d?"list-item active":"list-item"},i("dayview/"+a,{className:"list-item__content"},El("p",{className:"list-item__primary-text"},a),t>0?El("div",{className:"list-item__row"},El("p",{className:"list-item__cell list-item__secondary-text"},"".concat(m(e[0].start)," - ").concat(m(e[t-1].end))),El("p",{className:"list-item__cell list-item__cell--right list-item__secondary-text"},"".concat(e.length," - class"))):El("div",{className:"list-item__row"},El("p",{className:"list-item__cell list-item__secondary-text"},"Holiday"))))})),El("button",{className:"fab",onClick:function(){var a,e,t;a=El("div",{className:"details-content"},El("div",{className:"details"},El("h3",{className:"about-user"},"".concat(r," | ").concat(function(a){var e="th";a%10==1&&11!==a&&(e="st");a%10==2&&12!==a&&(e="nd");a%10==3&&13!==a&&(e="rd");return a+e}(n)," | ").concat(o)),i("download",{className:"button button--outlined"},El("span",{className:"button__label"},"Change"),El("i",{className:"material-icons button__icon"},"get_app"))),El("p",{className:"about-college"},"Bangladesh Institute of Information & Technology,",El("br",{}),"Bogra, Bangladesh.")),(t=El("div",{className:"modal modal--bottom",onClick:function(a){var t=a.target;t.matches(".modal")&&(e&&e(),t.remove())}})).append(El("div",{className:"modal__box"},a)),app.append(t)}},El("span",{className:"material-icons fab__icon",title:"User details"},"perm_identity")))})}),Router.add("dayview/:day",function(t){var l=t.day,i=a[c()]===l,n=El("div",{className:"height-100"});r(El("div",{className:"container"},El("div",{className:"app-bar"},El("div",{className:"app-bar__row"},El("div",{className:"app-bar__section app-bar__section--left"},s(),El("h3",{className:"app-bar__title".concat(i?" app-bar__title--is-today":"")},l)))),El("div",{className:"content height-100 height-100--cover-app-bar"},n))),e.getData(function(a){var e=a.daysData[l],t=e.length>0?El("ul",{className:"list list--ordered"},e.map(function(a){var e=a.name,t=a.teacher,l=a.start,s=a.end,i=a.room;return El("li",{className:"list-item"},El("div",{className:"list-item__content"},El("p",{className:"list-item__primary-text"},e),El("div",{className:"list-item__row list-item__time"},El("p",{className:"list-item__cell"},m(l)),El("p",{className:"list-item__cell list-item__cell--right"},m(s))),El("div",{className:"list-item__row"},El("p",{className:"list-item__cell list-item__secondary-text"},t),El("p",{className:"list-item__cell list-item__cell--right list-item__secondary-text"},i))))})):El("div",{className:"height-100 height-100--align-middle"},El("p",{className:"nothing-message"},"Holiday"));if(n.append(t),i){var s=function(a){var e=_slicedToArray(a,2),t=e[0],l=e[1],s=new Date;return s.setHours(t),s.setMinutes(l),s.getTime()},r=e.map(function(a){var e=a.start,t=a.end,l=/^(\d{2}):(\d{2})$/;return{start:_toArray(l.exec(e)).slice(1),end:_toArray(l.exec(t)).slice(1)}});!function a(){location.hash==="#dayview/".concat(l)&&(r.forEach(function(a,e){var l=a.start,i=a.end,r=Date.now(),n=s(l),c=s(i);r>=n&&r<c?t.children[e].classList.add("active"):t.children[e].classList.remove("active")}),setTimeout(a,1e3))}()}})}),Router.add("subjectlist",function(){var a=El("div",{className:"height-100"});r(El("div",{className:"container"},El("div",{className:"app-bar"},El("div",{className:"app-bar__row"},El("div",{className:"app-bar__section app-bar__section--left"},s(),El("h3",{className:"app-bar__title"},"Subjects")))),El("div",{className:"content height-100 height-100--cover-app-bar"},a))),e.getData(function(e){var t=e.data.subjects,l=Object.keys(t).sort();a.append(El("ul",{className:"list list--ordered"},l.map(function(a){var e=t[a],l=e.teacher,s=e.days,r=Object.keys(s).length;return El("li",{className:"list-item"},i("subjectview/"+a,{className:"list-item__content"},El("p",{className:"list-item__primary-text"},a),El("div",{className:"list-item__row"},El("p",{className:"list-item__cell list-item__secondary-text"},l),El("p",{className:"list-item__cell list-item__cell--right list-item__secondary-text"},"".concat(r," - day")))))})))})}),Router.add("subjectview/:subject",function(t){var l=t.subject,i=El("div",{className:"content height-100 height-100--cover-app-bar"});r(El("div",{className:"container"},El("div",{className:"app-bar"},El("div",{className:"app-bar__row"},El("div",{className:"app-bar__section app-bar__section--left"},s(),El("h3",{className:"app-bar__title"},l)))),i)),e.getData(function(e){var t=e.data,s=a[c()],r=t.subjects[l],n=r.teacher,o=r.days,d=a.filter(function(a){return o[a]});i.append(El("h4",{className:"secondary-header"},n),El("div",{className:"height-100 height-100--cover-secondary-header"},d.length>0?El("ul",{className:"list list--ordered"},d.map(function(a){var e=o[a],t=e.start,l=e.end,i=e.room;return El("li",{className:a===s?"list-item active":"list-item"},El("div",{className:"list-item__content"},El("p",{className:"list-item__primary-text"},a),El("div",{className:"list-item__row list-item__time"},El("p",{className:"list-item__cell"},m(t)),El("p",{className:"list-item__cell list-item__cell--right"},m(l))),i?El("div",{className:"list-item__row"},El("p",{className:"list-item__cell list-item__cell--right list-item__secondary-text"},i)):""))})):El("div",{className:"height-100 height-100--align-middle"},El("p",{className:"nothing-message"},"No class"))))})}),Router.add("download",function(){var a=El("div",{className:"tree-container",onClick:function(a){var e=a.target;e.matches(".tree-item__button")&&e.classList.toggle("tree-item__button--open")}});t(a),r(El("div",{className:"container"},El("div",{className:"app-bar"},El("div",{className:"app-bar__row"},El("div",{className:"app-bar__section app-bar__section--left"},s(),El("h3",{className:"app-bar__title"},"Download")),El("div",{className:"app-bar__section app-bar__section--right"},El("button",{className:"material-icons app-bar__action",title:"Reload",onClick:function(e){e.preventDefault(),t(a)}},"refresh")))),El("div",{className:"content height-100 height-100--cover-app-bar"},El("h4",{className:"secondary-header"},"Find your group & download"),El("div",{className:"height-100 height-100--cover-secondary-header"},a))))})}();
